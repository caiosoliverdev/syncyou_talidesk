<ion-header no-border class="ion-no-border">
  <ion-toolbar>
    <ion-title>{{'Preview' | translate}}</ion-title>
    <ion-buttons slot="end">
      <ion-button ion-button fill="clear" (click)="onClose()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [forceOverscroll]="false" [scrollY]="false" [scrollX]="false">
  <div class="previewSelected" [style.height]="'calc(100% - '+heightPreviewArea+'px)'">
    <img id="img-preview" [src]="fileSelected" class="center">
    <div id="img-preview-file-extension">{{ file_extension }} </div>
  </div>

  <div class="loader-preview-file-name-wpr" id="img-preview-file-name">
    
      <!-- {{ file_name }} -->
      {{file_name_ellipsis_the_middle}}
  
  </div>

  <div class="messageTextArea" #messageTextArea>

    <ion-item color="none">
      <ion-label color="primary" position="floating" floating> {{'AddACaption' | translate}}...</ion-label>
      <!-- <ion-input clearInput></ion-input> -->
      <ion-textarea #messageTextArea #imageCaptionTexarea 
        rows="1"
        autosize="false" 
        auto-grow="true" 
        [(ngModel)]="messageString"
        (ionInput)="onChangeTextArea($event);"
        (keyup.enter)="onKeyUp($event, messageString);">
      </ion-textarea>
    </ion-item>

  </div>

  <div class="thumbnailsPreview" #thumbnailsPreview>

    <div class="thumbnailsScroll">
      <div class="thumbnailsContent">
        <div *ngFor="let file  of arrayFiles; let i = index" class="centerCropped" (click)="onSelectImage(file)">
          <img [src]="file">
        </div>
      </div>
    </div>

  </div>



  <!-- fab placed to the (vertical) center and end -->
  <ion-fab vertical="end" horizontal="end" slot="fixed" class="sendButton">
    <ion-fab-button (click)="onSendMessage()">
      <ion-icon name="send"></ion-icon>
    </ion-fab-button>
  </ion-fab>





</ion-content>